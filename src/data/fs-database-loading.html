<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html">
<link rel="import" href="../../bower_components/polymerfire/polymerfire.html">
<link rel="import" href="../redux-mixin.html">
<link rel="import" href="fs-data-loader.html">
<link rel="import" href="fs-rest-get.html">
<link rel="import" href="fs-current-location.html">

<dom-module id="fs-database-loading">
  <template>

      <!-- FETCH DATA ON FIREBASE -->
      <fs-data-loader
        key="resource"
        load-action-name="LOAD_RESOURCE_LOCATIONS"
        loaded-action-name="RESOURCE_LOCATIONS_LOADED">
      </fs-data-loader>

      <!-- FETCH CURRENT USER LOCATION -->
      <fs-current-location></fs-current-location>
  </template>

  <script>
    (function () {

      /**
       * Loads data that is forwarded to the stored
       * @polymer
       */
      class FSDatabaseLoading extends ReduxMixin(Polymer.Element) {

        /**
         * Defines the name of the element: <fs-database-loading></fs-database-loading>.
         * @return {string} name that the element will use.
         */
        static get is() { return 'fs-database-loading'; }

      }

      // Registers the element in the browser
      customElements.define(FSDatabaseLoading.is, FSDatabaseLoading);

    })();
  </script>

</dom-module>